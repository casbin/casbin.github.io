<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Gestion des logs et des erreurs · Casbin</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Journalisation"/><meta name="docsearch:language" content="fr"/><meta property="og:title" content="Gestion des logs et des erreurs · Casbin"/><meta property="og:type" content="website"/><meta property="og:url" content="https://casbin.org/"/><meta property="og:description" content="## Journalisation"/><meta property="og:image" content="https://casbin.org/img/casbin.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://casbin.org/img/casbin.svg"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="https://cdn.casbin.org/casbin-website/css/monokai-sublime.min.css"/><link rel="alternate" type="application/atom+xml" href="https://casbin.org/blog/atom.xml" title="Casbin Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://casbin.org/blog/feed.xml" title="Casbin Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-119750650-1', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-blocks-buttons.css"/><link rel="stylesheet" href="/css/custom.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdn.casbin.org/casbin-website/js/clipboard.js"></script><script type="text/javascript" src="/js/code-blocks-buttons.js"></script><script type="text/javascript" src="/js/disqus.js"></script><script type="text/javascript" src="/js/baidu-analytics.js"></script><script type="text/javascript" src="/js/hotjar.js"></script><script type="text/javascript" src="/js/gitter.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script type="text/javascript" src="/js/wwads.js"></script><script type="text/javascript" src="/js/wwads2.js"></script><script type="text/javascript" src="/js/probe.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/fr"><img class="logo" src="/img/casbin.svg" alt="Casbin"/><h2 class="headerTitleWithLogo">Casbin</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/fr/overview" target="_self">Documents</a></li><li class="siteNavGroupActive"><a href="/docs/fr/management-api" target="_self">API</a></li><li class=""><a href="/fr/editor" target="_self">Editeur</a></li><li class="siteNavGroupActive"><a href="/docs/fr/ide-plugins" target="_self">Plugins IDE</a></li><li class=""><a href="https://casdoor.org" target="_self">Authentification unique (SSO)</a></li><li class=""><a href="https://forum.casbin.com" target="_self">Forums</a></li><li class=""><a href="/fr/help" target="_self">Aide</a></li><li class=""><a href="/blog/" target="_self">Blogue</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/log-error">English</a></li><li><a href="/docs/zh-CN/log-error">中文</a></li><li><a href="/docs/ko/log-error">한국어</a></li><li><a href="/docs/ru/log-error">Русский</a></li><li><a href="/docs/ja/log-error">日本語</a></li><li><a href="https://crowdin.com/project/casbin" target="_blank" rel="noreferrer noopener">Aider à traduire</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/casbin" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Gestion</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Les Bases</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/overview">Aperçu</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/get-started">Commencer</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/how-it-works">Comment ça marche</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/tutorials">Tutoriels</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Modélisation</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/supported-models">Modèles pris en charge</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/syntax-for-models">Syntaxe pour les modèles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/effector">Effet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/function">Fonction</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/rbac">RBAC</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/rbac-with-pattern">RBAC avec motif</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/rbac-with-domains">RBAC avec domaines</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/rbac-96">Casbin RBAC v.s. RBAC96</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/abac">ABAC</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/priority-model">Modèle de priorité</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/superadmin">Super Admin</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Stockage</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/model-storage">Stockage du modèle</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/policy-storage">Stockage de la politique</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/policy-subset-loading">Chargement du sous-ensemble de la politique</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Extensions</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/enforcers">Enforcers</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/adapters">Adaptateurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/watchers">Observateurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/dispatchers">Répartiteurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/role-managers">Responsables des rôles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/middlewares">Moyens</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/graphql-middlewares">Moyens GraphQL</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/cloud-native">Moyens natifs du Cloud</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/api-overview">Aperçu de l&#x27;API</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/management-api">API de gestion</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/rbac-api">RBAC API</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/rbac-with-domains-api">RBAC avec API Domains</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/rolemanager-api">API RoleManager</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/data-permissions">Autorisations des données</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Utilisation avancée</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/multi-threading">Multi-threads</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/benchmark">Benchmarks</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/performance">Optimisation des performances</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/k8s">Autorisation de Kubernetes</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/envoy">Autorisation de maillage de service par l&#x27;envoyé</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Gestion</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/admin-portal">Portail Admin</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/service">Service Casbin</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/fr/log-error">Gestion des logs et des erreurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/frontend">Utilisation du frontend</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Editeur</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/online-editor">Éditeur en ligne</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/ide-plugins">Plugins IDE</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">En savoir plus</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/fr/adopters">Nos Adopteurs</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/contributing">Contribuer</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/privacy-policy">Politique de confidentialité</a></li><li class="navListItem"><a class="navItem" href="/docs/fr/terms-of-service">Conditions d&#x27;utilisation</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/casbin/fr" target="_blank" rel="noreferrer noopener">Translate</a><h1 id="__docusaurus" class="postHeaderTitle">Gestion des logs et des erreurs</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="journalisation"></a><a href="#journalisation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Journalisation</h2>
<p>Casbin utilise le log <code>intégré</code> pour afficher les logs dans la console par défaut comme :</p>
<pre><code class="hljs css language-log"><span class="hljs-number">2017</span>/<span class="hljs-number">07</span>/<span class="hljs-number">15</span> <span class="hljs-number">19</span>:<span class="hljs-number">43</span>:<span class="hljs-number">56</span> [Demande: alice, data1, read ---&gt; <span class="hljs-literal">true</span>]
</code></pre>
<p>La journalisation n'est pas activée par défaut. Vous pouvez la basculer via <code>Enforcer.EnableLog()</code> ou le dernier paramètre de <code>NewEnforcer()</code>.</p>

    <div class="admonition admonition-note">
      <div class="admonition-heading">
        <h5><div class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div> note</h5>
      </div>
      <div class="admonition-content">
    <p>Nous supportons déjà la journalisation du modèle, l'application de la requête, le rôle, la politique dans Golang. Vous pouvez définir votre propre journal de connexion Casbin. Si vous utilisez Python, pycasbin utilise le mécanisme de journalisation par défaut de Python. Le paquet pycasbin fait un appel à logging.getLogger() pour définir le logger. Aucune configuration spéciale de journalisation n'est nécessaire autre que l'initialisation du logger dans l'application parente. Si aucune trace n'est intitilisée dans l'application parente, vous ne verrez aucun message de log de pycasbin.</p>
</div></div><h3><a class="anchor" aria-hidden="true" id="utiliser-un-enregistreur-différent-pour-différents-agents-de-sécurité"></a><a href="#utiliser-un-enregistreur-différent-pour-différents-agents-de-sécurité" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utiliser un enregistreur différent pour différents agents de sécurité</h3>
<p>Chaque responsable pouvait avoir son propre enregistreur pour enregistrer des informations, et il pourrait être modifié au moment de l'exécution.</p>
<p>And you could use a proper logger via the last paramter of <code>NewEnforcer()</code>, if you using this way to initialize your enforcer, you needn't use the enabled parameter, cause the priority of the enabled field in logger is higher.</p>
<pre><code class="hljs css language-go"><span class="hljs-comment">// Définit un enregistreur par défaut en tant que enregistreur d'e1.</span>
<span class="hljs-comment">// Cette opération pourrait également être considérée comme le changement du logger de e1 à l'exécution.</span>
e1.SetLogger(&amp;Log.DefaultLogger{})

<span class="hljs-comment">// Définit un autre enregistreur en tant que enregistreur de l'agent de sécurité e2.</span>
e2.SetLogger(&amp;YouOwnLogger)

<span class="hljs-comment">// Définit votre logger lors de l'initialisation de enforcer e3.</span>
e3, _ := casbin.NewEnforcer(<span class="hljs-string">"examples/rbac_model.conf"</span>, a, logger)
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="enregistreurs-pris-en-charge"></a><a href="#enregistreurs-pris-en-charge" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enregistreurs pris en charge</h4>
<p>Nous fournissons des loggeurs pour vous aider à enregistrer des informations.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-617-tab-618" class="nav-link active" data-group="group_617" data-tab="tab-group-617-content-618">Go</div><div id="tab-group-617-tab-619" class="nav-link" data-group="group_617" data-tab="tab-group-617-content-619">PHP</div></div><div class="tab-content"><div id="tab-group-617-content-618" class="tab-pane active" data-group="group_617" tabindex="-1"><div><span><table>
<thead>
<tr><th>Logger</th><th>Auteur</th><th>Libellé</th></tr>
</thead>
<tbody>
<tr><td><a href="https://github.com/casbin/casbin/blob/master/log/default_logger.go">Désamorçage (intégré)</a></td><td>Casbin</td><td>Le logger par défaut en utilisant le log golang.</td></tr>
<tr><td><a href="https://github.com/casbin/zap-logger">Zap logger</a></td><td>Casbin</td><td>En utilisant <a href="https://github.com/uber-go/zap">zap</a>, fournissez des journaux encodés en json et vous pourriez personnaliser davantage avec votre propre enregistreur zap.</td></tr>
</tbody>
</table>
</span></div></div><div id="tab-group-617-content-619" class="tab-pane" data-group="group_617" tabindex="-1"><div><span><table>
<thead>
<tr><th>Logger</th><th>Auteur</th><th>Libellé</th></tr>
</thead>
<tbody>
<tr><td><a href="https://github.com/php-casbin/psr3-bridge">logger psr3-bridge</a></td><td>Casbin</td><td>Fournit un pont de connexion <a href="https://www.php-fig.org/psr/psr-3/">PSR-3</a>.</td></tr>
</tbody>
</table>
</span></div></div></div></div>
<h4><a class="anchor" aria-hidden="true" id="comment-écrire-un-logger"></a><a href="#comment-écrire-un-logger" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comment écrire un logger</h4>
<p>Votre logger devrait implémenter l'interface <a href="https://github.com/casbin/casbin/blob/master/log/logger.go#L20">Logger</a>.</p>
<table>
<thead>
<tr><th>Méthode</th><th>Type de texte</th><th>Libellé</th></tr>
</thead>
<tbody>
<tr><td>EnableLog()</td><td>mandatory</td><td>Contrôle si le message est affiché.</td></tr>
<tr><td>IsEnabled()</td><td>mandatory</td><td>Afficher le statut actif du logger.</td></tr>
<tr><td>LogModel()</td><td>mandatory</td><td>Informations de log relatives au modèle.</td></tr>
<tr><td>LogEnforce()</td><td>mandatory</td><td>Informations de log relatives à la mise en application.</td></tr>
<tr><td>LogRole()</td><td>mandatory</td><td>Informations de log relatives au rôle.</td></tr>
<tr><td>Politique() de logg()</td><td>mandatory</td><td>Informations de log relatives à la politique.</td></tr>
</tbody>
</table>
<p>Vous pouvez passer votre log <code>personnalisé</code> à <code>Enforcer.SetLogger()</code>.</p>
<p>Voici un exemple sur la façon de personnaliser un logger pour Golang:</p>
<pre><code class="hljs css language-go"><span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"strings"</span>
)

<span class="hljs-comment">// DefaultLogger est l'implémentation d'un Logger en utilisant le log golang.</span>
<span class="hljs-keyword">type</span> DefaultLogger <span class="hljs-keyword">struct</span> {
    enabled <span class="hljs-keyword">bool</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(l *DefaultLogger)</span> <span class="hljs-title">EnableLog</span><span class="hljs-params">(enable <span class="hljs-keyword">bool</span>)</span></span> {
    l. nabled = enable
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(l *DefaultLogger)</span> <span class="hljs-title">IsEnabled</span><span class="hljs-params">()</span> <span class="hljs-title">bool</span></span> {
    <span class="hljs-keyword">return</span> l.enabled
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(l *DefaultLogger)</span> <span class="hljs-title">LogModel</span><span class="hljs-params">(model [][]<span class="hljs-keyword">string</span>)</span></span> {
    <span class="hljs-keyword">if</span> !l. nabled {
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">var</span> str strings.Builder
    str. riteString(<span class="hljs-string">"Modèle: "</span>)
    pour _, v := <span class="hljs-keyword">range</span> model {
        str. riteString(fmt.Sprintf(<span class="hljs-string">"%v\n"</span>, v))
    }

    log.Println(str. tring())
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(l *DefaultLogger)</span> <span class="hljs-title">LogEnforce</span><span class="hljs-params">(matcher <span class="hljs-keyword">string</span>, request []<span class="hljs-keyword">interface</span>{}, result <span class="hljs-keyword">bool</span>, explains [][]<span class="hljs-keyword">string</span>)</span></span> {
    <span class="hljs-keyword">if</span> !l. {
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">var</span> reqStr strings.Builder
    reqStr. riteString(<span class="hljs-string">"Requête: "</span>)
    pour i, rval := <span class="hljs-keyword">range</span> request {
        <span class="hljs-keyword">if</span> i ! <span class="hljs-built_in">len</span>(request)<span class="hljs-number">-1</span> {
            reqStr. riteString(fmt. printf(<span class="hljs-string">"%v, "</span>, rval))
        } <span class="hljs-keyword">else</span> {
            reqStr. riteString(fmt. printf(<span class="hljs-string">"%v"</span>, rval))
        }
    }
    reqStr. riteString(fmt.Sprintf(<span class="hljs-string">" ---&gt; %t\n"</span>, résultat))

    reqStr. riteString(<span class="hljs-string">"Politique de frappe: "</span>)
    pour i, pval := intervalle explique {
        si i ! <span class="hljs-built_in">len</span>(expliques)<span class="hljs-number">-1</span> {
            reqStr. riteString(fmt. printf(<span class="hljs-string">"%v, "</span>, pval))
        } <span class="hljs-keyword">else</span> {
            reqStr. riteString(fmt. printf(<span class="hljs-string">"%v \n"</span>, pval))
        }
    }

    log. rintln(reqStr. tring())
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(l *DefaultLogger)</span> <span class="hljs-title">LogPolicy</span><span class="hljs-params">(policy <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>][][]<span class="hljs-keyword">string</span>)</span></span> {
    <span class="hljs-keyword">if</span> !l. format@@<span class="hljs-number">0</span> nabled {
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">var</span> str strings. uilder
    str. riteString(<span class="hljs-string">"Policy: "</span>)
    <span class="hljs-keyword">for</span> k, v := <span class="hljs-keyword">range</span> policy {
        str.WriteString(fmt. printf(<span class="hljs-string">"%s : %v\n"</span>, k, v))
    }

    log.Println(str. tring())
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(l *DefaultLogger)</span> <span class="hljs-title">LogRole</span><span class="hljs-params">(roles []<span class="hljs-keyword">string</span>)</span></span> {
    <span class="hljs-keyword">if</span> !l. {
        <span class="hljs-keyword">return</span>
    }

    log.Println(<span class="hljs-string">"Rôles : "</span>, rôles)
}

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="gestion-des-erreurs"></a><a href="#gestion-des-erreurs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gestion des erreurs</h2>
<p>Une erreur ou une panique peut se produire lorsque vous utilisez Casbin pour des raisons comme :</p>
<ol>
<li>Syntaxe invalide dans le fichier modèle (.conf).</li>
<li>Syntaxe invalide dans le fichier de régulation (.csv).</li>
<li>Erreur personnalisée des adaptateurs de stockage, par exemple MySQL ne parvient pas à se connecter.</li>
<li>Casbin's bug.</li>
</ol>
<p>Il y a cinq fonctions principales dont vous devrez peut-être vous soucier pour les erreurs ou la panique :</p>
<table>
<thead>
<tr><th>Fonction</th><th>Comportement en cas d'erreur</th></tr>
</thead>
<tbody>
<tr><td><a href="https://godoc.org/github.com/casbin/casbin#NewEnforcer">NewEnforcer()</a></td><td>Erreur de retour</td></tr>
<tr><td><a href="https://godoc.org/github.com/casbin/casbin#Enforcer.LoadModel">format@@0 LoadModel()</a></td><td>Erreur de retour</td></tr>
<tr><td><a href="https://godoc.org/github.com/casbin/casbin#Enforcer.LoadPolicy">format@@0 LoadPolicy()</a></td><td>Erreur de retour</td></tr>
<tr><td><a href="https://godoc.org/github.com/casbin/casbin#Enforcer.SavePolicy">EnregistrerPolicy()</a></td><td>Erreur de retour</td></tr>
<tr><td><a href="https://godoc.org/github.com/casbin/casbin#Enforcer.Enforce">Forcer()</a></td><td>Erreur de retour</td></tr>
</tbody>
</table>

    <div class="admonition admonition-note">
      <div class="admonition-heading">
        <h5><div class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></div> note</h5>
      </div>
      <div class="admonition-content">
    <p><code>NewEnforcer()</code> appelle <code>LoadModel()</code> et <code>LoadPolicy()</code> à l'intérieur. Donc vous n'avez pas à appeler les deux derniers appels en utilisant la fonction <code>NewEnforcer()</code>.</p>
</div></div><h2><a class="anchor" aria-hidden="true" id="activer--désactiver"></a><a href="#activer--désactiver" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Activer &amp; désactiver</h2>
<p>Le responsable peut être désactivé via la fonction <code>Enforcer.EnableEnforce()</code>. Quand elle est désactivée, <code>Enforcer.Enforce()</code> retournera toujours <code>true</code>. D'autres opérations telles que l'ajout ou la suppression de la politique ne sont pas affectées. Voici un exemple :</p>
<pre><code class="hljs css language-go">e := casbin.NewEnforcer(<span class="hljs-string">"examples/basic_model.conf"</span>, <span class="hljs-string">"examples/basic_policy.csv"</span>)

<span class="hljs-comment">// retournera false.</span>
<span class="hljs-comment">// Par défaut, le responsable est activé.</span>
e.Enforce(<span class="hljs-string">"non-authorized-user"</span>, <span class="hljs-string">"data1"</span>, <span class="hljs-string">"read"</span>)

<span class="hljs-comment">// Désactive le responsable à l'exécution.</span>
e.EnableEnforce(<span class="hljs-literal">false</span>)

<span class="hljs-comment">// Renvoie vrai pour toute requête.</span>
e.Enforce(<span class="hljs-string">"non-authorized-user"</span>, <span class="hljs-string">"data1"</span>, <span class="hljs-string">"read"</span>)

<span class="hljs-comment">// Activez le responsable à nouveau.</span>
e.EnableEnforce(<span class="hljs-literal">true</span>)

<span class="hljs-comment">// retournera false.</span>
e.Enforce(<span class="hljs-string">"non-autorised-user"</span>, <span class="hljs-string">"data1"</span>, <span class="hljs-string">"read"</span>)
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/fr/service"><span class="arrow-prev">← </span><span>Service Casbin</span></a><a class="docs-next button" href="/docs/fr/frontend"><span>Utilisation du frontend</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#journalisation">Journalisation</a><ul class="toc-headings"><li><a href="#utiliser-un-enregistreur-différent-pour-différents-agents-de-sécurité">Utiliser un enregistreur différent pour différents agents de sécurité</a></li></ul></li><li><a href="#gestion-des-erreurs">Gestion des erreurs</a></li><li><a href="#activer--désactiver">Activer &amp; désactiver</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/casbin.svg" alt="Casbin" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/fr/get-started">Getting Started</a><a href="/docs/fr/management-api">Management API</a><a href="/docs/fr/rbac-api">RBAC API</a><a href="/docs/fr/middlewares">Middlewares</a></div><div><h5>Community</h5><a href="/fr/users">Who&#x27;s using Casbin?</a><a href="https://stackoverflow.com/search?q=casbin" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><a class="github-button" href="https://github.com/casbin/casbin" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Casbin</a>          <a class="github-button" href="https://github.com/casbin/jcasbin" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">jCasbin</a><br/><a class="github-button" href="https://github.com/casbin/node-casbin" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Node-Casbin</a>   <a class="github-button" href="https://github.com/php-casbin/php-casbin" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">PHP-Casbin</a><a class="github-button" href="https://github.com/casbin/pycasbin" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">PyCasbin</a>          <a class="github-button" href="https://github.com/casbin/Casbin.NET" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Casbin.NET</a><a class="github-button" href="https://github.com/casbin/casbin-cpp" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Casbin-CPP</a>        <a class="github-button" href="https://github.com/casbin/casbin-rs" data-icon="octicon-star" data-count-href="/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Casbin-RS</a><div class="social"><a href="https://twitter.com/casbinHQ" class="twitter-follow-button">Follow @casbinHQ</a></div><div class="social"><div class="fb-like" data-href="https://casbin.org" data-colorscheme="dark" data-layout="standard" data-share="true" data-width="225" data-show-faces="false"></div></div></div></section><section class="copyright">Copyright © 2022 Casbin Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.fbAsyncInit = function() {FB.init({appId:'1354585054683583',xfbml:true,version:'v2.7'});};(function(d, s, id){var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) {return;}js = d.createElement(s); js.id = id;js.src = '//connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js, fjs);}(document, 'script','facebook-jssdk'));
                </script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '2b87bf88e794912bdbe1b08420681efa',
                indexName: 'casbin',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:fr"]}
              });
            </script></body></html>